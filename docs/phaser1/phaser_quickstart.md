# Phaser.js RPG - Quick Start Guide & Complete Working Code ## Quick Start (Copy-Paste Ready) This section contains all the code you need. Copy each file exactly as shown. ### File 1: index.html ```html <!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Phaser.js RPG Demo</title> <style> * { margin: 0; padding: 0; box-sizing: border-box; } body { background: #1a1a1a; font-family: 'Courier New', monospace; display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; } .game-wrapper { display: flex; gap: 30px; align-items: flex-start; } #game-container { border: 3px solid #444; box-shadow: 0 0 30px rgba(0, 0, 0, 0.9); background: #000; } #info-panel { background: rgba(20, 20, 30, 0.95); color: #0f0; padding: 20px; border: 2px solid #0f0; border-radius: 5px; font-size: 14px; min-width: 220px; box-shadow: 0 0 15px rgba(0, 255, 0, 0.3); } .panel-title { font-size: 16px; font-weight: bold; margin-bottom: 15px; text-transform: uppercase; border-bottom: 2px solid #0f0; padding-bottom: 10px; } .stat-line { margin: 8px 0; font-size: 13px; } .stat-label { color: #0f0; font-weight: bold; width: 100px; display: inline-block; } .stat-value { color: #fff; } .controls { margin-top: 20px; padding-top: 15px; border-top: 2px solid #0f0; font-size: 12px; color: #aaa; } .controls-title { font-weight: bold; color: #0f0; margin-bottom: 8px; } .control-item { margin: 5px 0; } .dialogue-box { margin-top: 20px; padding: 10px; border: 1px solid #0f0; background: rgba(0, 255, 0, 0.1); min-height: 60px; border-radius: 3px; } .dialogue-title { font-size: 11px; color: #0f0; margin-bottom: 5px; text-transform: uppercase; } .dialogue-text { font-size: 12px; color: #fff; font-style: italic; } </style> </head> <body> <div class="game-wrapper"> <div id="game-container"></div> <div id="info-panel"> <div class="panel-title">âš”ï¸� RPG Status</div> <div class="stat-line"> <span class="stat-label">Health:</span> <span class="stat-value"><span id="health">100</span>/100</span> </div> <div class="stat-line"> <span class="stat-label">Position:</span> <span class="stat-value">(<span id="pos-x">0</span>, <span id="pos-y">0</span>)</span> </div> <div class="stat-line"> <span class="stat-label">Direction:</span> <span class="stat-value" id="direction">Down</span> </div> <div class="controls"> <div class="controls-title">ðŸŽ® Controls</div> <div class="control-item">WASD - Move</div> <div class="control-item">Arrows - Move</div> <div class="control-item">SPACE - Interact</div> </div> <div class="dialogue-box"> <div class="dialogue-title">ðŸ’¬ NPC</div> <div class="dialogue-text" id="dialogue">Approach an NPC and press SPACE</div> </div> </div> </div> <!-- Phaser Framework via CDN --> <script src="https://cdn.jsdelivr.net/npm/phaser@3.90.0/dist/phaser.min.js"></script> <!-- Game Scripts (Order matters!) --> <script src="js/player.js"></script> <script src="js/npc.js"></script> <script src="js/scene.js"></script> <script src="js/main.js"></script> </body> </html> ``` ### File 2: js/player.js ```javascript /** * Player Class - Handles protagonist logic */ class Player extends Phaser.Physics.Arcade.Sprite { constructor(scene, x, y) { super(scene, x, y, 'player'); // Add to scene and enable physics scene.add.existing(this); scene.physics.add.existing(this); // Physics properties this.body.setCollideWorldBounds(true); this.body.setBounce(0, 0); this.setScale(2); // Movement properties this.moveSpeed = 200; this.currentDirection = 'down'; this.isMoving = false; // Health system this.health = 100; this.maxHealth = 100; // Setup input (WASD + Arrow keys) this.keys = scene.input.keyboard.addKeys({ up: Phaser.Input.Keyboard.KeyCodes.W, down: Phaser.Input.Keyboard.KeyCodes.S, left: Phaser.Input.Keyboard.KeyCodes.A, right: Phaser.Input.Keyboard.KeyCodes.D, upArrow: Phaser.Input.Keyboard.KeyCodes.UP, downArrow: Phaser.Input.Keyboard.KeyCodes.DOWN, leftArrow: Phaser.Input.Keyboard.KeyCodes.LEFT, rightArrow: Phaser.Input.Keyboard.KeyCodes.RIGHT, interact: Phaser.Input.Keyboard.KeyCodes.SPACE, }); this.createAnimations(scene); this.play('idle'); } /** * Create all player animations */ createAnimations(scene) { const directions = ['down', 'up', 'left', 'right']; directions.forEach(dir => { scene.anims.create({ key: `walk-${dir}`, frames: scene.anims.generateFrameNumbers('player', { start: this.getFrameStart(dir), end: this.getFrameEnd(dir) }), frameRate: 10, repeat: -1 }); }); // Idle animation (no movement) scene.anims.create({ key: 'idle', frames: [{ key: 'player', frame: 0 }], frameRate: 1 }); } /** * Map direction to starting frame */ getFrameStart(direction) { const map = { down: 0, up: 3, left: 6, right: 9 }; return map[direction] || 0; } /** * Map direction to ending frame */ getFrameEnd(direction) { const map = { down: 2, up: 5, left: 8, right: 11 }; return map[direction] || 2; } /** * Update player each frame */ update() { let velocityX = 0; let velocityY = 0; this.isMoving = false; // Check WASD input if (this.keys.left.isDown || this.keys.leftArrow.isDown) { velocityX = -this.moveSpeed; this.currentDirection = 'left'; this.isMoving = true; } else if (this.keys.right.isDown || this.keys.rightArrow.isDown) { velocityX = this.moveSpeed; this.currentDirection = 'right'; this.isMoving = true; } if (this.keys.up.isDown || this.keys.upArrow.isDown) { velocityY = -this.moveSpeed; this.currentDirection = 'up'; this.isMoving = true; } else if (this.keys.down.isDown || this.keys.downArrow.isDown) { velocityY = this.moveSpeed; this.currentDirection = 'down'; this.isMoving = true; } // Apply velocity this.body.setVelocity(velocityX, velocityY); // Handle animations if (this.isMoving) { this.play(`walk-${this.currentDirection}`, true); } else { this.stop(); this.setFrame(this.getFrameStart(this.currentDirection)); } } takeDamage(amount) { this.health = Math.max(0, this.health - amount); } heal(amount) { this.health = Math.min(this.maxHealth, this.health + amount); } } ``` ### File 3: js/npc.js ```javascript /** * NPC Class - Non-player characters with dialogue */ class NPC extends Phaser.Physics.Arcade.Sprite { constructor(scene, x, y, name = 'NPC') { super(scene, x, y, 'npc'); // Add to scene scene.add.existing(this); scene.physics.add.existing(this); // NPC properties this.npcName = name; this.body.setImmovable(true); this.setScale(2); // Dialogue data this.dialogues = [ "Hello there, traveler!", "Welcome to our village.", "Be careful of monsters.", "Good luck on your journey!", "Come back soon!" ]; this.currentDialogueIndex = 0; this.createAnimations(scene); this.play('npc-idle'); } createAnimations(scene) { scene.anims.create({ key: 'npc-idle', frames: [{ key: 'npc', frame: 0 }], frameRate: 1 }); } /** * Get next dialogue string and advance index */ getNextDialogue() { const text = this.dialogues[this.currentDialogueIndex]; this.currentDialogueIndex = (this.currentDialogueIndex + 1) % this.dialogues.length; return text; } /** * Reset dialogue back to start */ resetDialogue() { this.currentDialogueIndex = 0; } } ``` ### File 4: js/scene.js ```javascript /** * Main Game Scene - Controls gameplay and interactions */ class GameScene extends Phaser.Scene { constructor() { super({ key: 'GameScene' }); } preload() { // Create tilesets and sprites programmatically this.createAssets(); // Load map data (will be created if not found) if (this.sys.game.cache.json.has('map') === false) { this.createMapData(); } } create() { // Create the game world this.createWorld(); // Create player this.player = new Player(this, 100, 100); // Create NPC this.npc = new NPC(this, 250, 200, 'Village Guard'); this.npc.dialogues = [ "Welcome, adventurer!", "This is the village center.", "Beware of the forest.", "Return anytime!" ]; // Setup camera this.cameras.main.setBounds(0, 0, 256, 160); this.cameras.main.startFollow(this.player); this.cameras.main.setLerp(0.1, 0.1); // Setup collisions this.physics.add.collider(this.player, this.wallLayer); // Overlap with NPC this.physics.add.overlap(this.player, this.npc); // Input this.input.keyboard.on('keydown-SPACE', () => { if (this.isPlayerNearNPC()) { this.showDialogue(); } }); // UI references this.dialogueText = null; } /** * Create all game assets programmatically */ createAssets() { // Player sprite (12 frames: 3 per direction) const playerGraphics = this.make.graphics({ x: 0, y: 0, add: false }); playerGraphics.fillStyle(0xFF6B6B, 1); // Red for (let i = 0; i < 12; i++) { playerGraphics.fillRect(i * 16, 0, 16, 16); } playerGraphics.generateTexture('player', 192, 16); playerGraphics.destroy(); // NPC sprite const npcGraphics = this.make.graphics({ x: 0, y: 0, add: false }); npcGraphics.fillStyle(0x4169E1, 1); // Blue npcGraphics.fillRect(0, 0, 16, 16); npcGraphics.generateTexture('npc', 16, 16); npcGraphics.destroy(); // Tileset const tileGraphics = this.make.graphics({ x: 0, y: 0, add: false }); // Tile 0: Grass (green) tileGraphics.fillStyle(0x228B22, 1); tileGraphics.fillRect(0, 0, 16, 16); // Tile 1: Empty (transparency) tileGraphics.fillStyle(0x228B22, 1); tileGraphics.fillRect(16, 0, 16, 16); // Tile 2: Wall/Border (dark) tileGraphics.fillStyle(0x1a1a1a, 1); tileGraphics.fillRect(32, 0, 16, 16); // Tile 3: Tree/Wall (brown) tileGraphics.fillStyle(0x8B4513, 1); tileGraphics.fillRect(48, 0, 16, 16); tileGraphics.generateTexture('tileset', 64, 16); tileGraphics.destroy(); } /** * Create map data (embedded) */ createMapData() { const mapData = { compressionlevel: -1, height: 10, infinite: false, layers: [{ data: [ 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2 ], height: 10, name: 'Ground', opacity: 1, type: 'tilelayer', visible: true, width: 16, x: 0, y: 0 }], nextlayerid: 2, orientation: 'orthogonal', renderorder: 'right-down', tiledversion: '1.0.0', tileheight: 16, tilesets: [{ columns: 4, firstgid: 1, image: 'tileset', imageheight: 16, imagewidth: 64, margin: 0, name: 'tiles', spacing: 0, tilecount: 4, tileheight: 16, tilewidth: 16 }], tilewidth: 16, type: 'map', version: '1.0' }; this.cache.json.add('map', mapData); } /** * Create the game world from tilemap */ createWorld() { // Create tilemap this.map = this.make.tilemap({ key: 'map' }); const tileset = this.map.addTilesetImage('tiles', 'tileset'); // Create layer this.wallLayer = this.map.createLayer(0, tileset, 0, 0); // Set collisions (tiles 2 and 3 are walls) this.wallLayer.setCollisionByExclusion([-1, 0, 1]); } /** * Check if player is close enough to interact with NPC */ isPlayerNearNPC() { const distance = Phaser.Math.Distance.Between( this.player.x, this.player.y, this.npc.x, this.npc.y ); return distance < 60; } /** * Show NPC dialogue */ showDialogue() { const dialogue = this.npc.getNextDialogue(); // Update UI document.getElementById('dialogue').textContent = `"${dialogue}"`; // Remove old floating text if exists if (this.dialogueText) { this.dialogueText.destroy(); } // Create floating dialogue box above NPC this.dialogueText = this.add.text( this.npc.x - 50, this.npc.y - 50, dialogue, { fontSize: '13px', backgroundColor: '#000000', color: '#FFFFFF', padding: { x: 8, y: 6 }, wordWrap: { width: 100 }, align: 'center', fontFamily: 'Arial' } ); this.dialogueText.setDepth(1000); // Auto-dismiss after 4 seconds this.time.delayedCall(4000, () => { if (this.dialogueText) { this.dialogueText.destroy(); this.dialogueText = null; } document.getElementById('dialogue').textContent = 'Approach an NPC and press SPACE'; }); } /** * Update game every frame */ update() { // Update player logic this.player.update(); // Update UI panel this.updateUI(); } /** * Update information panel */ updateUI() { document.getElementById('health').textContent = Math.max(0, this.player.health); document.getElementById('pos-x').textContent = Math.floor(this.player.x / 16); document.getElementById('pos-y').textContent = Math.floor(this.player.y / 16); const directionMap = { 'down': 'Down â†“', 'up': 'Up â†‘', 'left': 'Left â†�', 'right': 'Right â†’' }; document.getElementById('direction').textContent = directionMap[this.player.currentDirection] || 'Down â†“'; } } ``` ### File 5: js/main.js ```javascript /** * Phaser Game Configuration and Initialization */ const config = { type: Phaser.AUTO, width: 800, height: 600, parent: 'game-container', physics: { default: 'arcade', arcade: { gravity: { y: 0 }, debug: false } }, render: { pixelArt: true, antialias: false, autoCenter: Phaser.Scale.CENTER_BOTH }, scale: { mode: Phaser.Scale.FIT, autoCenter: Phaser.Scale.CENTER_BOTH }, scene: [GameScene] }; // Initialize the game const game = new Phaser.Game(config); // Log to console console.log('ðŸŽ® Phaser RPG Demo Initialized'); console.log('ðŸ“– Use WASD or Arrow Keys to move'); console.log('ðŸ—£ï¸� Press SPACE to talk to NPCs'); ``` --- ## Running the Game ### Step 1: Create Folder Structure ``` rpg-game/ â”œâ”€â”€ index.html â”œâ”€â”€ js/ â”‚ â”œâ”€â”€ main.js â”‚ â”œâ”€â”€ player.js â”‚ â”œâ”€â”€ npc.js â”‚ â””â”€â”€ scene.js ``` ### Step 2: Copy Code Copy each code block above into the corresponding file. ### Step 3: Start Server **Option A - Python:** ```bash cd rpg-game python -m http.server 8000 ``` **Option B - Node.js:** ```bash cd rpg-game npx http-server ``` **Option C - VS Code:** 1. Install "Live Server" extension 2. Right-click index.html 3. Select "Open with Live Server" ### Step 4: Play! Open `http://localhost:8000` in your browser and start playing! --- ## Debugging Tips ### Game Won't Load - Check browser console (F12 â†’ Console) - Ensure all files are in correct folders - Make sure you're using a web server, not opening HTML directly ### Player Won't Move - Verify WASD and arrow keys are working - Check that Phaser loaded (open F12 console, type `Phaser.VERSION`) - Ensure physics is enabled in config ### NPC Dialogue Won't Show - Press SPACE while standing close to the NPC - Check that distance < 60 in `isPlayerNearNPC()` - Verify NPC is visible on screen ### Performance Issues - Reduce tile count in map - Disable physics debug mode (already off) - Close other browser tabs --- ## Extending the Game ### Add Another NPC ```javascript // In GameScene.create() this.mayor = new NPC(this, 400, 200, 'Town Mayor'); this.mayor.dialogues = [ "I run this town!", "We need help with monsters.", "Come back if you change your mind." ]; this.physics.add.overlap(this.player, this.mayor); ``` ### Change Player Health ```javascript // In GameScene.create() this.player.health = 50; // Custom starting health ``` ### Change NPC Dialogue ```javascript this.npc.dialogues = [ "Your custom dialogue", "Second message", "Third message" ]; ``` ### Change Map Size Edit the `createMapData()` function to change dimensions and tile values. --- **That's it! You now have a fully playable RPG demo. Happy developing! ðŸŽ®** 
